## Оглавление
11. [Список ADR][def]
12. [Описание сценариев использования приложения][def2] 
13. [Базовая архитектура с учётом ограничений бизнес-требований, НФТ, выбранной архитектуры, адресация атрибутов качества][def3]
14. [Основные представления][def4]

## Список ADR
[def]: #Список-ADR
Буду основываться на "Плане поэтапной разработки и расширения системы, анализ критически важных компонентов" (см. главу 6). Разделю ADR на два типа основновных. ADR для бэка и ADR для фронта.
### ADR для бэка
#### Back-ADR-001: Модуль регистрации и аутентификации

**Дата:** 2024-10-01  
**Статус:** Принято  
**Контекст:**  
Пользователи должны иметь возможность регистрироваться в системе, предоставляя свои персональные данные, и входить в систему с использованием проверенных методов аутентификации. Необходимо обеспечить регистрацию новых пользователей и аутентификацию с использованием социальных сетей и многофакторной аутентификации для повышения безопасности. 

**Решение:**  
Реализовать модуль, использующий OAuth для аутентификации через социальные сети и внедрить многофакторную аутентификацию через SMS/Email.
Использовать токены JWT (JSON Web Tokens) для аутентификации пользователей, и реализовать функционал регистрации, который включает проверку email и подтверждение учетной записи.

**Последствия:**  
Увеличение безопасности пользователей за счет многофакторной аутентификации. Использование проверенных методов аутентификации повысит доверие к системе. Наличие интеграции с социальными сетями упростит процесс регистрации, что может привести к увеличению числа пользователей.
Но увеличивается сложность разработки и тестирования, 
появляется необходимость уделить внимание безопасному хранению и передаче данных пользователей. Требуется внедрить механизмы защиты для хранения и передачи паролей, такие как шифрование и использование HTTPS. Необходимо провести аудит безопасности для предотвращения утечек личной информации.

---

#### Back-ADR-002: Модуль социальной сети с уклоном в спортивную сферу

**Дата:** 2024-10-02  
**Статус:** Принято  
**Контекст:**  
Модуль должен обеспечивать создание и управление социальными группами, общение между участниками и систему модерации.
Пользователи должны иметь возможность создавать и редактировать свои посты, комментарии и отзывы о товарах. А также иметь возможность взаимодействовать через комментарии, лайки и ответы.

Также необходимо обеспечить защиту от онлайн-насилия и соблюдение норм законодательства относительно обработки пользовательского контента, поэтому следует иметь эффективную систему модерации для обработки жалоб на неподобающий контент.

**Решение:**  
Реализовать функционал групп и чатов, а также модерации контента с использованием REST API и веб-сокетов для реального времени. При этом система должна быть интегрирована с модулем уведомлений для оповещений.

Создать инструмент для модераторов, где они смогут отслеживать и управлять жалобами на контент, используя административную панель.

**Последствия:**

Создание активного сообщества пользователей, что повысит вовлеченность и взаимодействие среди участников. Эффективная система модерации обеспечит безопасность пользователей и способствует поддержанию здоровой атмосферы обсуждения.  

---

#### Back-ADR-003: Модуль управления спортивным инвентарем

**Дата:** 2023-10-04  
**Статус:** Принято  
**Контекст:**  
Пользователи могут вводить данные о своей спортивной экипировке на своей странице соц. сети и получать рекомендации по обновлению инвентаря с ссылкой на товар в каталоге.

**Решение:**  
Использовать модуль для ввода данных и анализа, интегрировать с базой данных для хранения информации о инвентаре и рекомендациях.

**Последствия:**  
Обеспечить корректность информации и механизмы обновления данных пользователями, а также защиту от вводимой неверной информации.

---

#### Back-ADR-004: Модуль тренировок с геймификацией

**Дата:** 2024-10-04  
**Статус:** В разработке
**Контекст:**  
Модуль должен анализировать данные о тренировках и генерировать персонализированные планы. Поощрять пользователя в случае следования планам тренировок.

**Решение:**  
Следует разработать и обучить модель машинного обучения, которая на основе данных о тренировках, спортивном инвентаре пользователя, его данных в соц. сети будет генерировать для пользователя персонализированные планы тренировок.
Также на основе данных из модуля интеграции с внешними устройставами необходимо будет разработать систему поощрений.


**Последствия:**  
Использование машинного обучения для генерации индивидуальных планов тренировок позволит учитывать особенности каждого пользователя, включая его уровень подготовки, предпочтения и цели. Это повышает эффективность тренировок и снижает риск травм. Механизмы поощрения и игровые элементы помогут удержать пользователей в приложении дольше, снижая вероятность отказа от использования. Пользователь будет возвращаться, чтобы продолжать получать новые достижения и улучшать свои результаты.

Зависимости от модуля интеграции с внешними устройствами, а также от модуля соц. сети. Необходимо уделять внимание согласованию форматов данных.

---

#### Back-ADR-005: Модуль уведомлений и оповещений пользователей

**Дата:** 2024-10-04  
**Статус:** Принято  
**Контекст:**  
Пользователи должны получать уведомления о достижениях и событиях, например, от модуля тренировок с геймификацией. Пользователи должны быть оповещены действиях других пользователей (интеграция с модулем соц. сети). Данный модуль будет интегрироваться со всеми системами, которые способны триггерить оповещения для пользователей соц. сети или приложения в целом.

**Решение:**  
Разработать систему уведомлений, интегрированную с другими модулями для формирования релевантной информации и ее своевременной отправки.
Модуль уведомлений будет разделен на независимые микросервисы, отвечающие за различные аспекты системы уведомлений (например, генерация уведомлений, отправка уведомлений, управление предпочтениями пользователей и т.д.).
Будет использоваться событийно-ориентированный подход для в системе для данного модуля (например, события о достижениях в тренировках или активности пользователей в соц. сети) для триггеров, которые будут инициировать создание и отправку уведомлений. Это может быть реализовано с помощью системы управления сообщениями (например, Apache Kafka, RabbitMQ, или AWS SNS).
Необходимо будет разработать систему шаблонов для различных типов уведомлений, что позволит легко настраивать содержание уведомлений в зависимости от контекста (тренировки, социальные взаимодействия и т.д.).
Потребуется создать отдельный модуль для отправки уведомлений через различные каналы (мобильные уведомления, электронная почта, sms и т.д.), настраивая методы в зависимости от предпочтений пользователей.

**Последствия:**  
В данном случае использование событийно-ориентированной архитектуры и микросервисов обеспечит устойчивую и эффективную систему оповещения, которая может легко адаптироваться к изменяющимся требованиям бизнеса и пользователей.
Из минусов: необходимость поддержания актуальности данных и сложность настройки систем уведомлений с учетом предпочтений пользователей.

---

#### Back-ADR-006: Модуль интеграции с внешними устройствами

**Дата:** 2024-10-04  
**Статус:** Принято  
**Контекст:**  
Модуль должен подключать фитнес-трекеры и другие устройства для сбора данных о тренировках.

**Решение:**  
Использовать стандартные протоколы (например, Bluetooth, API) для интеграции с устройствами.

**Последствия:**  
Возможные сложности с совместимостью различных производителей; обеспечение надежной работы подключения.

---

#### Back-ADR-007: Модуль с каталогом товаров

**Дата:** 2024-10-03  
**Статус:** Принято  
**Контекст:**  
Необходим классический интернет-магазин для продажи спортивного оборудования. Пользователи должны иметь возможность искать товары с помощью различных фильтров: по категориям, цене, популярности и т.д. Класть товары в корзину, оплачивать их. Оформлять доставку

**Решение:**  
Создать модуль или/и выстроить интеграцию с существующими модулями, которые будen интегрироваться с платежными системами, управлять каталогом товаров, корзиной, доставкой. 
Если не реализовано: реализовать полнотекстовый поиск с возможностью фильтрации через разработку REST API. Использовать Elasticsearch для быстрой обработки запросов.
Интегрировать платежный шлюз (например, Stripe или PayPal) для обработки платежей и использования API для оформления заказа (если старые модули не используют это).

**Последствия:**  
Необходима проработка всех аспектов безопасности при обработке платежей; Необходимо гарантировать соблюдение стандартов безопасности (например, PCI DSS) и учитывать возможные риски ошибок обработки платежей. Необходимо учесть ненадежность сети интернет в случае, если будет осуществлена интеграция (по рест апи, например) с уже существующими модулями интернет-магазина.

---

#### Back-ADR-008: Аналитика и отчетность

**Дата:** 2024-10-03  
**Статус:** Принято по пользователям. Остальное требует подробной проработки. 
**Контекст:**  
Для пользователей: cистема должна собирать и анализировать пользовательские данные для улучшения контента под каждого конкретного пользователя, и для всех пользователей в целом. На результатов данной системы пользователям, должны даваться рекомендации, например, по подбору инвентаря, по выбору групп по сходным спортивным интересам.
Общее (для бизнеса): cистема должна проводить общий анализ, например, спроса на определенные товары. Анализ посещаемости страниц.
Формировать отчеты.

**Решение:**
Следует разработать и обучить модель машинного обучения, которая эффективно будет подбирать контент, соответствующий спортивным интересам и предпочтениям пользователей.
Интегрировать инструменты аналитики (например, Google Analytics) и реализовать собственные отчеты с использованием BI-инструментов.

**Последствия:**

Модель ML позволит эффективно анализировать предпочтения пользователей и их поведение, что обеспечит выдачу более релевантного и интересного контента, увеличивая тем самым удовлетворенность пользователей. Персонализированные рекомендации могут способствовать большему времени, проведенному пользователями в приложении, а также повышению активности (лайки, комментарии, шеры). Индивидуально подбираемый контент может значительно увеличить вероятность повторного использования приложения, так как пользователи будут более заинтересованы в контенте, который соответствует их интересам. Модель может выявить наиболее привлекательные темы и типы контента, что поможет в дальнейшем планировании и производстве более качественного материала.
Улучшенное понимание пользовательского поведения: Инструменты аналитики позволяют собирать данные о поведении пользователей на сайте или в приложении, что помогает лучше понять их предпочтения и пути взаимодействия с продуктом. Это знание может быть использовано для оптимизации пользовательского опыта.

Интеграция с аналитическими инструментами позволяет получать данные о взаимодействии пользователей в реальном времени, что помогает быстро реагировать на изменения в поведении пользователей или в эффективности маркетинговых кампаний. BI-инструменты предоставляют мощные возможности визуализации данных, позволяя легко анализировать и интерпретировать результаты. Визуальные отчеты делают данные более доступными и понятными для всех заинтересованных сторон.
Отчеты и аналитика дают возможность анализировать данные, делать выводы и принимать обоснованные решения на основе фактических данных, а не предположений.
С помощью аналитики можно определить, какие каналы маркетинга приносят наилучшие результаты, и сосредоточить усилия и бюджет на наиболее эффективных стратегиях.
Инструменты аналитики позволяют устанавливать и отслеживать ключевые показатели эффективности (KPI), что помогает в оценке успеха бизнеса и в выявлении областей для улучшения.
С помощью аналитики можно выявлять тренды и паттерны в данных, что помогает не только в текущем управлении бизнесом, но и в долгосрочном планировании и прогнозировании.
Лучше понимая, какие тактики работают, компании могут сократить ненужные расходы и инвестировать в более продуктивные стратегии.

Возможные риски неправильной интерпретации данных и вопросы конфиденциальности пользователей; требуется соблюдение норм GDPR.

---



### ADR-004: Создание и управление пользовательским контентом

**Дата:** 2024-12-02  
**Статус:** Принято  
**Контекст:**  
Пользователи должны иметь возможность создавать и редактировать свои посты, комментарии и отзывы о товарах.

**Решение:**  
Разработать интерфейс для редактирования и создания контента с использованием WYSIWYG-редактора. 

**Последствия:**  
Необходимо внедрить проверку удобства использования в виде опросов.

---








---

# Риски реализации

1. Бизнес-риски:
   - Утечка данных личной информации пользователей может привести к потере доверия.
   - Неполные или неверные данные о товарах могут снизить удовлетворенность пользователей.
   - Неэффективная модерация может негативно сказаться на репутации платформы.

2. Технические риски:
   - Сложности с интеграцией различных устройств и систем могут задержать разработку.
   - Увеличение сложности архитектуры может привести к трудностям в поддержке и масштабировании.
   - Зависимости между модулями могут создать узкие места в производительности и стабильности системы.

## Описание сценариев использования приложения
[def2]: #Описание-сценариев-использования-приложения

## Базовая архитектура с учётом ограничений бизнес-требований, НФТ, выбранной архитектуры, адресация атрибутов качества
[def3]: #Базовая-архитектура

## Основные представления
[def4]: #Основные-представления
### a. Функциональное. 
### b. Информационное.
### c. Многозадачность (concurrency).
### d. Инфраструктурное.
### e. Безопасность.
